{"ast":null,"code":"'use strict';\n\nvar superagent = require('superagent'),\n    {\n  TimeoutError,\n  WebapiError,\n  WebapiRegularError,\n  WebapiAuthenticationError,\n  WebapiPlayerError\n} = require('./response-error');\n\nvar HttpManager = {};\n/* Create superagent options from the base request */\n\nvar _getParametersFromRequest = function (request) {\n  var options = {};\n\n  if (request.getQueryParameters()) {\n    options.query = request.getQueryParameters();\n  }\n\n  if (request.getHeaders() && request.getHeaders()['Content-Type'] === 'application/json') {\n    options.data = JSON.stringify(request.getBodyParameters());\n  } else if (request.getBodyParameters()) {\n    options.data = request.getBodyParameters();\n  }\n\n  if (request.getHeaders()) {\n    options.headers = request.getHeaders();\n  }\n\n  return options;\n};\n\nvar _toError = function (response) {\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'object' && response.body.error.reason) {\n    return new WebapiPlayerError(response.body, response.headers, response.statusCode);\n  }\n\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'object') {\n    return new WebapiRegularError(response.body, response.headers, response.statusCode);\n  }\n\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'string') {\n    return new WebapiAuthenticationError(response.body, response.headers, response.statusCode);\n  }\n  /* Other type of error, or unhandled Web API error format */\n\n\n  return new WebapiError(response.body, response.headers, response.statusCode, response.body);\n};\n/* Make the request to the Web API */\n\n\nHttpManager._makeRequest = function (method, options, uri, callback) {\n  var req = method.bind(superagent)(uri);\n\n  if (options.query) {\n    req.query(options.query);\n  }\n\n  if (options.headers) {\n    req.set(options.headers);\n  }\n\n  if (options.data) {\n    req.send(options.data);\n  }\n\n  req.end(function (err, response) {\n    if (err) {\n      if (err.timeout) {\n        return callback(new TimeoutError());\n      } else if (err.response) {\n        return callback(_toError(err.response));\n      } else {\n        return callback(err);\n      }\n    }\n\n    return callback(null, {\n      body: response.body,\n      headers: response.headers,\n      statusCode: response.statusCode\n    });\n  });\n};\n/**\n * Make a HTTP GET request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\n\n\nHttpManager.get = function (request, callback) {\n  var options = _getParametersFromRequest(request);\n\n  var method = superagent.get;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n/**\n * Make a HTTP POST request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\n\n\nHttpManager.post = function (request, callback) {\n  var options = _getParametersFromRequest(request);\n\n  var method = superagent.post;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n/**\n * Make a HTTP DELETE request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\n\n\nHttpManager.del = function (request, callback) {\n  var options = _getParametersFromRequest(request);\n\n  var method = superagent.del;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n/**\n * Make a HTTP PUT request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\n\n\nHttpManager.put = function (request, callback) {\n  var options = _getParametersFromRequest(request);\n\n  var method = superagent.put;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n\nmodule.exports = HttpManager;","map":{"version":3,"names":["superagent","require","TimeoutError","WebapiError","WebapiRegularError","WebapiAuthenticationError","WebapiPlayerError","HttpManager","_getParametersFromRequest","request","options","getQueryParameters","query","getHeaders","data","JSON","stringify","getBodyParameters","headers","_toError","response","body","error","reason","statusCode","_makeRequest","method","uri","callback","req","bind","set","send","end","err","timeout","get","getURI","post","del","put","module","exports"],"sources":["D:/5thsemprojects/ML/fitme-frontend-main/node_modules/spotify-web-api-node/src/http-manager.js"],"sourcesContent":["'use strict';\n\nvar superagent = require('superagent'),\n  { TimeoutError, \n    WebapiError, \n    WebapiRegularError, \n    WebapiAuthenticationError,\n    WebapiPlayerError \n  } =  require('./response-error');\n\nvar HttpManager = {};\n\n/* Create superagent options from the base request */\nvar _getParametersFromRequest = function(request) {\n  var options = {};\n\n  if (request.getQueryParameters()) {\n    options.query = request.getQueryParameters();\n  }\n\n  if (request.getHeaders() && request.getHeaders()['Content-Type'] === 'application/json') {\n    options.data = JSON.stringify(request.getBodyParameters());\n  } else if (request.getBodyParameters()) {\n    options.data = request.getBodyParameters();\n  }\n\n  if (request.getHeaders()) {\n    options.headers = request.getHeaders();\n  }\n  return options;\n};\n\nvar _toError = function(response) {\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'object' && response.body.error.reason) {\n    return new WebapiPlayerError(response.body, response.headers, response.statusCode);\n  }\n\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'object') {\n    return new WebapiRegularError(response.body, response.headers, response.statusCode);\n  }\n\n  if (typeof response.body === 'object' && response.body.error && typeof response.body.error === 'string') {\n    return new WebapiAuthenticationError(response.body, response.headers, response.statusCode);\n  }\n  \n  /* Other type of error, or unhandled Web API error format */\n  return new WebapiError(response.body, response.headers, response.statusCode, response.body);\n};\n\n/* Make the request to the Web API */\nHttpManager._makeRequest = function(method, options, uri, callback) {\n  var req = method.bind(superagent)(uri);\n\n  if (options.query) {\n    req.query(options.query);\n  }\n\n  if (options.headers) {\n    req.set(options.headers);\n  }\n\n  if (options.data) {\n    req.send(options.data);\n  }\n\n  req.end(function(err, response) {\n    if (err) {\n      if (err.timeout) {\n        return callback(new TimeoutError());\n      } else if (err.response) {\n        return callback(_toError(err.response));\n      } else {\n        return callback(err);\n      }\n    }\n\n    return callback(null, {\n      body: response.body,\n      headers: response.headers,\n      statusCode: response.statusCode\n    });\n  });\n};\n\n/**\n * Make a HTTP GET request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\nHttpManager.get = function(request, callback) {\n  var options = _getParametersFromRequest(request);\n  var method = superagent.get;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n\n/**\n * Make a HTTP POST request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\nHttpManager.post = function(request, callback) {\n  var options = _getParametersFromRequest(request);\n  var method = superagent.post;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n\n/**\n * Make a HTTP DELETE request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\nHttpManager.del = function(request, callback) {\n  var options = _getParametersFromRequest(request);\n  var method = superagent.del;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n\n/**\n * Make a HTTP PUT request.\n * @param {BaseRequest} The request.\n * @param {Function} The callback function.\n */\nHttpManager.put = function(request, callback) {\n  var options = _getParametersFromRequest(request);\n  var method = superagent.put;\n\n  HttpManager._makeRequest(method, options, request.getURI(), callback);\n};\n\nmodule.exports = HttpManager;"],"mappings":"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"},"metadata":{},"sourceType":"script"}